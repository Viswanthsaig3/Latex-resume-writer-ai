{"ast":null,"code":"var _jsxFileName = \"c:\\\\Users\\\\viswa\\\\Downloads\\\\Latex resume writer ai\\\\frontend\\\\src\\\\components\\\\AIAssistant.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport axios from 'axios';\n\n// Modern chat UI styles\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst styles = {\n  container: {\n    position: 'absolute',\n    bottom: '20px',\n    left: '20px',\n    width: 'calc(50% - 40px)',\n    height: '400px',\n    backgroundColor: '#ffffff',\n    borderRadius: '12px',\n    boxShadow: '0 10px 25px rgba(0, 0, 0, 0.15)',\n    display: 'flex',\n    flexDirection: 'column',\n    overflow: 'hidden',\n    zIndex: 1000,\n    border: '1px solid #e5e7eb',\n    transition: 'all 0.3s ease',\n    fontFamily: \"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif\"\n  },\n  minimizedContainer: {\n    height: '55px',\n    width: '260px',\n    overflow: 'hidden',\n    bottom: '20px',\n    left: '20px'\n  },\n  header: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: '15px 20px',\n    backgroundColor: '#4F46E5',\n    // Indigo color\n    color: 'white',\n    borderBottom: '1px solid rgba(255, 255, 255, 0.1)'\n  },\n  headerTitle: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '10px',\n    fontWeight: 600,\n    fontSize: '16px'\n  },\n  headerIcon: {\n    width: '24px',\n    height: '24px',\n    borderRadius: '50%',\n    backgroundColor: 'rgba(255, 255, 255, 0.2)',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontSize: '14px'\n  },\n  headerControls: {\n    display: 'flex',\n    gap: '10px'\n  },\n  controlButton: {\n    backgroundColor: 'transparent',\n    border: 'none',\n    color: 'white',\n    cursor: 'pointer',\n    padding: '5px',\n    borderRadius: '4px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    transition: 'background-color 0.2s'\n  },\n  chatBody: {\n    padding: '0',\n    overflowY: 'auto',\n    flex: 1,\n    backgroundColor: '#f9fafb',\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  welcomeContainer: {\n    padding: '20px',\n    textAlign: 'center',\n    color: '#6B7280',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flex: 1\n  },\n  welcomeTitle: {\n    fontSize: '18px',\n    fontWeight: '600',\n    marginBottom: '10px',\n    color: '#1F2937'\n  },\n  welcomeDesc: {\n    fontSize: '14px',\n    marginBottom: '20px',\n    maxWidth: '320px'\n  },\n  suggestionContainer: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    gap: '8px',\n    justifyContent: 'center',\n    maxWidth: '450px'\n  },\n  suggestionChip: {\n    padding: '8px 15px',\n    backgroundColor: 'white',\n    border: '1px solid #E5E7EB',\n    borderRadius: '999px',\n    fontSize: '13px',\n    color: '#4F46E5',\n    cursor: 'pointer',\n    transition: 'all 0.2s',\n    whiteSpace: 'nowrap',\n    boxShadow: '0 1px 2px rgba(0, 0, 0, 0.05)'\n  },\n  chatMessages: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '15px',\n    padding: '20px',\n    overflowY: 'auto'\n  },\n  messageRow: {\n    display: 'flex',\n    gap: '12px',\n    maxWidth: '100%'\n  },\n  messageUser: {\n    alignSelf: 'flex-end',\n    flexDirection: 'row-reverse'\n  },\n  avatar: {\n    width: '32px',\n    height: '32px',\n    borderRadius: '50%',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontSize: '14px',\n    color: 'white',\n    flexShrink: 0\n  },\n  userAvatar: {\n    backgroundColor: '#4F46E5'\n  },\n  aiAvatar: {\n    backgroundColor: '#10B981'\n  },\n  messageBubble: {\n    padding: '12px 16px',\n    borderRadius: '18px',\n    maxWidth: 'calc(100% - 50px)',\n    boxShadow: '0 1px 2px rgba(0, 0, 0, 0.05)',\n    fontSize: '14px',\n    lineHeight: '1.5'\n  },\n  userBubble: {\n    backgroundColor: '#4F46E5',\n    color: 'white',\n    borderBottomRightRadius: '4px'\n  },\n  aiBubble: {\n    backgroundColor: 'white',\n    color: '#1F2937',\n    borderBottomLeftRadius: '4px'\n  },\n  typing: {\n    display: 'flex',\n    padding: '8px 0',\n    gap: '4px',\n    alignItems: 'center'\n  },\n  typingDot: {\n    width: '8px',\n    height: '8px',\n    backgroundColor: '#D1D5DB',\n    borderRadius: '50%',\n    animation: 'typingAnimation 1s infinite ease-in-out',\n    animationDelay: props => `${props * 0.2}s`\n  },\n  inputFooter: {\n    borderTop: '1px solid #E5E7EB',\n    padding: '15px 20px',\n    backgroundColor: 'white'\n  },\n  inputContainer: {\n    display: 'flex',\n    position: 'relative'\n  },\n  textArea: {\n    flex: 1,\n    padding: '12px 16px',\n    paddingRight: '50px',\n    border: '1px solid #E5E7EB',\n    borderRadius: '24px',\n    resize: 'none',\n    fontSize: '14px',\n    lineHeight: '1.5',\n    maxHeight: '120px',\n    overflowY: 'auto',\n    outline: 'none',\n    transition: 'border-color 0.2s'\n  },\n  sendButton: {\n    position: 'absolute',\n    right: '12px',\n    bottom: '8px',\n    width: '32px',\n    height: '32px',\n    borderRadius: '50%',\n    backgroundColor: '#4F46E5',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    border: 'none',\n    cursor: 'pointer',\n    color: 'white',\n    transition: 'transform 0.2s, opacity 0.2s'\n  },\n  sendButtonDisabled: {\n    opacity: 0.5,\n    cursor: 'not-allowed'\n  },\n  codeBlock: {\n    backgroundColor: '#1E293B',\n    color: '#E2E8F0',\n    padding: '12px 16px',\n    borderRadius: '8px',\n    fontFamily: \"'Fira Code', monospace\",\n    fontSize: '13px',\n    overflowX: 'auto',\n    margin: '10px 0'\n  },\n  latexBlock: {\n    backgroundColor: '#F8FAFC',\n    padding: '12px 16px',\n    borderRadius: '8px',\n    borderLeft: '3px solid #4F46E5',\n    fontFamily: \"'Fira Code', monospace\",\n    fontSize: '13px',\n    overflowX: 'auto',\n    margin: '10px 0'\n  },\n  actionButtons: {\n    display: 'flex',\n    gap: '8px',\n    marginTop: '10px'\n  },\n  actionButton: {\n    padding: '8px 12px',\n    backgroundColor: '#4F46E5',\n    color: 'white',\n    border: 'none',\n    borderRadius: '6px',\n    fontSize: '13px',\n    cursor: 'pointer',\n    display: 'flex',\n    alignItems: 'center',\n    gap: '6px',\n    transition: 'background-color 0.2s'\n  },\n  warningMessage: {\n    backgroundColor: '#FEF3C7',\n    borderLeft: '3px solid #D97706',\n    padding: '12px 16px',\n    borderRadius: '8px',\n    fontSize: '13px',\n    color: '#92400E',\n    margin: '10px 0'\n  },\n  blinking: {\n    opacity: 0,\n    animation: 'blinking 1s infinite'\n  },\n  suggestionList: {\n    position: 'absolute',\n    bottom: '70px',\n    left: '20px',\n    right: '20px',\n    backgroundColor: 'white',\n    borderRadius: '8px',\n    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.1)',\n    zIndex: 10,\n    maxHeight: '160px',\n    overflowY: 'auto',\n    border: '1px solid #E5E7EB'\n  },\n  suggestionItem: {\n    padding: '10px 15px',\n    borderBottom: '1px solid #E5E7EB',\n    cursor: 'pointer',\n    fontSize: '13px',\n    color: '#374151',\n    transition: 'background-color 0.2s'\n  },\n  '@keyframes typingAnimation': {\n    '0%': {\n      transform: 'scale(0.8)',\n      opacity: 0.6\n    },\n    '50%': {\n      transform: 'scale(1.2)',\n      opacity: 1\n    },\n    '100%': {\n      transform: 'scale(0.8)',\n      opacity: 0.6\n    }\n  },\n  '@keyframes blinking': {\n    '0%': {\n      opacity: 0\n    },\n    '50%': {\n      opacity: 1\n    },\n    '100%': {\n      opacity: 0\n    }\n  }\n};\n\n// SVG Icons\nconst Icons = {\n  send: /*#__PURE__*/_jsxDEV(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    children: [/*#__PURE__*/_jsxDEV(\"line\", {\n      x1: \"22\",\n      y1: \"2\",\n      x2: \"11\",\n      y2: \"13\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 187\n    }, this), /*#__PURE__*/_jsxDEV(\"polygon\", {\n      points: \"22 2 15 22 11 13 2 9 22 2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 231\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 314,\n    columnNumber: 9\n  }, this),\n  minimize: /*#__PURE__*/_jsxDEV(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    children: /*#__PURE__*/_jsxDEV(\"line\", {\n      x1: \"5\",\n      y1: \"12\",\n      x2: \"19\",\n      y2: \"12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 191\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 315,\n    columnNumber: 13\n  }, this),\n  maximize: /*#__PURE__*/_jsxDEV(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    children: [/*#__PURE__*/_jsxDEV(\"polyline\", {\n      points: \"15 3 21 3 21 9\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 191\n    }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n      points: \"9 21 3 21 3 15\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 236\n    }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n      x1: \"21\",\n      y1: \"3\",\n      x2: \"14\",\n      y2: \"10\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 281\n    }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n      x1: \"3\",\n      y1: \"21\",\n      x2: \"10\",\n      y2: \"14\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 325\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 316,\n    columnNumber: 13\n  }, this),\n  apply: /*#__PURE__*/_jsxDEV(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    children: /*#__PURE__*/_jsxDEV(\"polyline\", {\n      points: \"20 6 9 17 4 12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 188\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 317,\n    columnNumber: 10\n  }, this),\n  copy: /*#__PURE__*/_jsxDEV(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n      x: \"9\",\n      y: \"9\",\n      width: \"13\",\n      height: \"13\",\n      rx: \"2\",\n      ry: \"2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 187\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 249\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 318,\n    columnNumber: 9\n  }, this),\n  warning: /*#__PURE__*/_jsxDEV(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    children: [/*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 190\n    }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n      x1: \"12\",\n      y1: \"9\",\n      x2: \"12\",\n      y2: \"13\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 296\n    }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n      x1: \"12\",\n      y1: \"17\",\n      x2: \"12.01\",\n      y2: \"17\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 340\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 319,\n    columnNumber: 12\n  }, this),\n  sparkles: /*#__PURE__*/_jsxDEV(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"20\",\n    height: \"20\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M12 3l1.88 5.76a2 2 0 001.92 1.45h6.1a1 1 0 01.59 1.8l-4.93 3.58a2 2 0 00-.73 2.24l1.88 5.76a1 1 0 01-1.54 1.12l-4.93-3.58a2 2 0 00-2.36 0l-4.93 3.58a1 1 0 01-1.54-1.12l1.88-5.76a2 2 0 00-.73-2.24l-4.93-3.58a1 1 0 01.59-1.8h6.1A2 2 0 009.12 8.7L11 3a1 1 0 011 0z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 191\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 320,\n    columnNumber: 13\n  }, this)\n};\n\n// Function to parse markdown-like syntax for code and LaTeX blocks\nconst formatMessage = message => {\n  if (!message) return '';\n\n  // Replace code blocks with styled divs\n  const codeBlockRegex = /```(latex)?\\n([\\s\\S]*?)```/g;\n  let parts = [];\n  let lastIndex = 0;\n  let match;\n  while ((match = codeBlockRegex.exec(message)) !== null) {\n    // Add text before the code block\n    if (match.index > lastIndex) {\n      parts.push({\n        type: 'text',\n        content: message.substring(lastIndex, match.index)\n      });\n    }\n\n    // Add the code block\n    const isLatex = match[1] === 'latex';\n    parts.push({\n      type: isLatex ? 'latex' : 'code',\n      content: match[2]\n    });\n    lastIndex = match.index + match[0].length;\n  }\n\n  // Add any remaining text\n  if (lastIndex < message.length) {\n    parts.push({\n      type: 'text',\n      content: message.substring(lastIndex)\n    });\n  }\n\n  // Render the parts\n  return parts.map((part, index) => {\n    if (part.type === 'text') {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: '5px 0'\n        },\n        children: part.content\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 14\n      }, this);\n    } else if (part.type === 'latex') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.latexBlock,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 'bold',\n            marginBottom: '5px'\n          },\n          children: \"LaTeX:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), part.content]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.codeBlock,\n        children: part.content\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 14\n      }, this);\n    }\n  });\n};\nfunction AIAssistant({\n  latexCode,\n  onApplyChanges\n}) {\n  _s();\n  const [isMinimized, setIsMinimized] = useState(false);\n  const [prompt, setPrompt] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [conversation, setConversation] = useState([{\n    role: 'ai',\n    content: 'Hello! I\\'m your Resume AI Assistant. I can help you create a professional, ATS-friendly resume. Try these prompts:\\n\\n- \"Transform my resume to highlight leadership skills\"\\n- \"Redesign my resume for a software engineering role\"\\n- \"Make my resume more concise and impactful\"\\n- \"Improve the formatting of my resume\"\\n- \"Add quantifiable achievements to my work experience\"'\n  }]);\n  const chatboxRef = useRef(null);\n\n  // Auto-scroll to bottom of chat when conversation updates\n  useEffect(() => {\n    if (chatboxRef.current) {\n      chatboxRef.current.scrollTop = chatboxRef.current.scrollHeight;\n    }\n  }, [conversation]);\n  const handleSendPrompt = async () => {\n    if (!prompt.trim()) return;\n\n    // Add user message to conversation\n    const userMessage = {\n      role: 'user',\n      content: prompt\n    };\n    setConversation(prev => [...prev, userMessage]);\n\n    // Clear input field\n    setPrompt('');\n\n    // Start loading indicator\n    setIsLoading(true);\n    try {\n      // Show a temporary \"thinking\" message\n      const thinkingMessageId = Date.now();\n      setConversation(prev => [...prev, {\n        role: 'ai',\n        content: 'Thinking...',\n        id: thinkingMessageId,\n        isTemporary: true\n      }]);\n\n      // Make API call with increased timeout\n      const response = await axios.post('http://localhost:5001/ai/improve-resume', {\n        prompt,\n        latex: latexCode\n      }, {\n        timeout: 60000 // 60 second timeout\n      });\n\n      // Remove the temporary thinking message\n      setConversation(prev => prev.filter(msg => !msg.isTemporary || msg.id !== thinkingMessageId));\n\n      // Add AI response to conversation\n      if (response.data && response.data.success) {\n        setConversation(prev => [...prev, {\n          role: 'ai',\n          content: response.data.response\n        }]);\n      } else {\n        var _response$data;\n        throw new Error(((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.error) || 'Failed to get AI response');\n      }\n    } catch (error) {\n      console.error('Error getting AI response:', error);\n\n      // Remove any temporary messages\n      setConversation(prev => prev.filter(msg => !msg.isTemporary));\n\n      // Provide a helpful fallback response when API fails\n      const fallbackResponse = generateFallbackResponse(prompt, latexCode);\n      setConversation(prev => [...prev, {\n        role: 'ai',\n        content: fallbackResponse\n      }]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Function to generate basic fallback responses when API fails\n  const generateFallbackResponse = (userPrompt, latex) => {\n    const promptLower = userPrompt.toLowerCase();\n    if (promptLower.includes('improve') || promptLower.includes('enhance')) {\n      return \"I'd suggest improving your resume by quantifying achievements, using action verbs, and ensuring consistent formatting. For example:\\n\\n```latex\\n\\\\section{Experience}\\n\\\\textbf{Software Engineer} \\\\\\\\\\nCompany Name, City, State \\\\\\\\\\n2022-Present\\n\\\\begin{itemize}\\n  \\\\item Increased application performance by 40\\\\% through optimization of database queries\\n  \\\\item Led development of 3 key features that attracted 1,000+ new users\\n  \\\\item Collaborated with cross-functional teams to reduce deployment time by 25\\\\%\\n\\\\end{itemize}\\n```\";\n    } else if (promptLower.includes('format') || promptLower.includes('layout')) {\n      return \"For better formatting, consider using a cleaner layout:\\n\\n```latex\\n\\\\documentclass[11pt,a4paper,sans]{moderncv}\\n\\\\moderncvstyle{classic}\\n\\\\moderncvcolor{blue}\\n\\n\\\\name{John}{Doe}\\n\\\\phone{(123) 456-7890}\\n\\\\email{john.doe@example.com}\\n\\\\social[linkedin]{linkedin.com/in/johndoe}\\n\\n\\\\begin{document}\\n\\\\makecvtitle\\n\\n% Rest of your resume...\\n\\\\end{document}\\n```\";\n    } else if (promptLower.includes('skills') || promptLower.includes('highlight')) {\n      return \"To highlight your skills more effectively, consider grouping them by category:\\n\\n```latex\\n\\\\section{Skills}\\n\\\\begin{itemize}\\n  \\\\item \\\\textbf{Programming Languages:} JavaScript (ES6+), TypeScript, Python, Java\\n  \\\\item \\\\textbf{Web Technologies:} React, Node.js, Express, HTML5, CSS3/SCSS\\n  \\\\item \\\\textbf{Databases:} MongoDB, PostgreSQL, Redis\\n  \\\\item \\\\textbf{DevOps:} Docker, Kubernetes, AWS, CI/CD pipelines\\n  \\\\item \\\\textbf{Tools:} Git, Jira, Figma, Jest, Webpack\\n\\\\end{itemize}\\n```\";\n    } else {\n      return \"I'm having trouble connecting to the AI service right now. Here are some general resume tips:\\n\\n1. Keep your resume concise and focused\\n2. Quantify achievements when possible\\n3. Use action verbs to describe your experience\\n4. Ensure consistent formatting throughout\\n5. Tailor your resume for each job application\\n\\nYou can improve your LaTeX code structure with:\\n\\n```latex\\n\\\\section{Your Section}\\n\\\\subsection{A Subsection}\\n\\\\begin{itemize}\\n  \\\\item Use bullet points for clear, scannable content\\n  \\\\item Highlight key achievements and skills\\n\\\\end{itemize}\\n```\";\n    }\n  };\n\n  // Function to validate LaTeX code before applying changes\n  const validateLatexCode = code => {\n    // Basic validation check - make sure it has the essential document structure\n    const hasDocumentClass = code.includes('\\\\documentclass');\n    const hasBeginDocument = code.includes('\\\\begin{document}');\n    const hasEndDocument = code.includes('\\\\end{document}');\n    return hasDocumentClass && hasBeginDocument && hasEndDocument;\n  };\n  const handleApplyChanges = latexContent => {\n    if (onApplyChanges && latexContent) {\n      // Extract LaTeX code from message\n      const latexMatch = latexContent.match(/```latex\\n([\\s\\S]*?)```/);\n      if (latexMatch && latexMatch[1]) {\n        const extractedLatex = latexMatch[1];\n\n        // Validate the LaTeX code before applying\n        if (validateLatexCode(extractedLatex)) {\n          onApplyChanges(extractedLatex);\n        } else {\n          // Show an error in the conversation if the code is invalid\n          setConversation(prev => [...prev, {\n            role: 'ai',\n            content: \"⚠️ The LaTeX code appears to be incomplete. A valid LaTeX document should include \\\\documentclass, \\\\begin{document}, and \\\\end{document}. Please ask for a complete document.\"\n          }]);\n        }\n      }\n    }\n  };\n\n  // Enhanced suggestion prompts based on user input\n  const getSuggestions = inputText => {\n    inputText = inputText.toLowerCase();\n    if (inputText.includes('design') || inputText.includes('template') || inputText.includes('format')) {\n      return [\"Create a modern, clean layout for my resume\", \"Format my resume for a technical role\", \"Design an executive-level resume layout\", \"Improve the section spacing and organization\"];\n    }\n    if (inputText.includes('experience') || inputText.includes('job')) {\n      return [\"Strengthen my work experience section with achievements\", \"Add metrics and results to my job descriptions\", \"Rewrite my experience to focus on leadership\", \"Optimize my job history for ATS systems\"];\n    }\n    if (inputText.includes('skill') || inputText.includes('technology')) {\n      return [\"Organize my skills into meaningful categories\", \"Highlight my most relevant technical skills\", \"Add a skills rating system\", \"Create a more scannable skills section\"];\n    }\n    return [\"Improve my resume's overall impact and readability\", \"Tailor my resume for a specific job posting\", \"Add professional summary section\", \"Create a more achievement-oriented resume\"];\n  };\n\n  // Function to show suggestions as user types\n  const [suggestions, setSuggestions] = useState([]);\n  useEffect(() => {\n    if (prompt.length > 3) {\n      setSuggestions(getSuggestions(prompt));\n    } else {\n      setSuggestions([]);\n    }\n  }, [prompt]);\n  const handleSuggestionClick = suggestion => {\n    setPrompt(suggestion);\n    setSuggestions([]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      ...styles.container,\n      ...(isMinimized ? styles.minimizedContainer : {})\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.header,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.headerTitle,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.headerIcon,\n          children: Icons.sparkles\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 11\n        }, this), \"Resume AI Assistant\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.headerControls,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          style: styles.controlButton,\n          onClick: () => setIsMinimized(!isMinimized),\n          children: isMinimized ? Icons.maximize : Icons.minimize\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 570,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 565,\n      columnNumber: 7\n    }, this), !isMinimized && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.chatBody,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.chatMessages,\n          ref: chatboxRef,\n          children: [conversation.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              ...styles.messageRow,\n              ...(msg.role === 'user' ? styles.messageUser : {})\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                ...styles.avatar,\n                ...(msg.role === 'user' ? styles.userAvatar : styles.aiAvatar)\n              },\n              children: msg.role === 'user' ? 'U' : 'AI'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 592,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                ...styles.messageBubble,\n                ...(msg.role === 'user' ? styles.userBubble : styles.aiBubble)\n              },\n              children: msg.role === 'ai' ? /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [formatMessage(msg.content), msg.content.includes('```latex') && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: styles.actionButtons,\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleApplyChanges(msg.content),\n                    style: styles.actionButton,\n                    children: [Icons.apply, \" Apply Changes\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 611,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => navigator.clipboard.writeText(msg.content),\n                    style: styles.actionButton,\n                    children: [Icons.copy, \" Copy Code\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 617,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 610,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 607,\n                columnNumber: 23\n              }, this) : msg.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 600,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 585,\n            columnNumber: 17\n          }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.typing,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.typingDot\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 634,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.typingDot\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 635,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.typingDot\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 636,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 633,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 582,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.inputFooter,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.inputContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"Ask about improving your resume...\",\n            value: prompt,\n            onChange: e => setPrompt(e.target.value),\n            onKeyPress: e => e.key === 'Enter' && !e.shiftKey && handleSendPrompt(),\n            style: styles.textArea,\n            disabled: isLoading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 644,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSendPrompt,\n            style: {\n              ...styles.sendButton,\n              ...(isLoading ? styles.sendButtonDisabled : {})\n            },\n            disabled: isLoading,\n            children: Icons.send\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 652,\n            columnNumber: 15\n          }, this), suggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.suggestionList,\n            children: suggestions.map((suggestion, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => handleSuggestionClick(suggestion),\n              style: styles.suggestionItem,\n              children: suggestion\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 665,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 663,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 643,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 642,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 564,\n    columnNumber: 5\n  }, this);\n}\n_s(AIAssistant, \"HecxWG6E6hKl3Ec2nPgaiZUK3PQ=\");\n_c = AIAssistant;\nexport default AIAssistant;\nvar _c;\n$RefreshReg$(_c, \"AIAssistant\");","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","styles","container","position","bottom","left","width","height","backgroundColor","borderRadius","boxShadow","display","flexDirection","overflow","zIndex","border","transition","fontFamily","minimizedContainer","header","justifyContent","alignItems","padding","color","borderBottom","headerTitle","gap","fontWeight","fontSize","headerIcon","headerControls","controlButton","cursor","chatBody","overflowY","flex","welcomeContainer","textAlign","welcomeTitle","marginBottom","welcomeDesc","maxWidth","suggestionContainer","flexWrap","suggestionChip","whiteSpace","chatMessages","messageRow","messageUser","alignSelf","avatar","flexShrink","userAvatar","aiAvatar","messageBubble","lineHeight","userBubble","borderBottomRightRadius","aiBubble","borderBottomLeftRadius","typing","typingDot","animation","animationDelay","props","inputFooter","borderTop","inputContainer","textArea","paddingRight","resize","maxHeight","outline","sendButton","right","sendButtonDisabled","opacity","codeBlock","overflowX","margin","latexBlock","borderLeft","actionButtons","marginTop","actionButton","warningMessage","blinking","suggestionList","suggestionItem","transform","Icons","send","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","children","x1","y1","x2","y2","fileName","_jsxFileName","lineNumber","columnNumber","points","minimize","maximize","apply","copy","x","y","rx","ry","d","warning","sparkles","formatMessage","message","codeBlockRegex","parts","lastIndex","match","exec","index","push","type","content","substring","isLatex","length","map","part","style","AIAssistant","latexCode","onApplyChanges","_s","isMinimized","setIsMinimized","prompt","setPrompt","isLoading","setIsLoading","conversation","setConversation","role","chatboxRef","current","scrollTop","scrollHeight","handleSendPrompt","trim","userMessage","prev","thinkingMessageId","Date","now","id","isTemporary","response","post","latex","timeout","filter","msg","data","success","_response$data","Error","error","console","fallbackResponse","generateFallbackResponse","userPrompt","promptLower","toLowerCase","includes","validateLatexCode","code","hasDocumentClass","hasBeginDocument","hasEndDocument","handleApplyChanges","latexContent","latexMatch","extractedLatex","getSuggestions","inputText","suggestions","setSuggestions","handleSuggestionClick","suggestion","onClick","ref","navigator","clipboard","writeText","placeholder","value","onChange","e","target","onKeyPress","key","shiftKey","disabled","_c","$RefreshReg$"],"sources":["c:/Users/viswa/Downloads/Latex resume writer ai/frontend/src/components/AIAssistant.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\n// Modern chat UI styles\r\nconst styles = {\r\n  container: {\r\n    position: 'absolute',\r\n    bottom: '20px',\r\n    left: '20px',\r\n    width: 'calc(50% - 40px)',\r\n    height: '400px',\r\n    backgroundColor: '#ffffff',\r\n    borderRadius: '12px',\r\n    boxShadow: '0 10px 25px rgba(0, 0, 0, 0.15)',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    overflow: 'hidden',\r\n    zIndex: 1000,\r\n    border: '1px solid #e5e7eb',\r\n    transition: 'all 0.3s ease',\r\n    fontFamily: \"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif\",\r\n  },\r\n  minimizedContainer: {\r\n    height: '55px',\r\n    width: '260px',\r\n    overflow: 'hidden',\r\n    bottom: '20px',\r\n    left: '20px',\r\n  },\r\n  header: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: '15px 20px',\r\n    backgroundColor: '#4F46E5', // Indigo color\r\n    color: 'white',\r\n    borderBottom: '1px solid rgba(255, 255, 255, 0.1)',\r\n  },\r\n  headerTitle: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '10px',\r\n    fontWeight: 600,\r\n    fontSize: '16px',\r\n  },\r\n  headerIcon: {\r\n    width: '24px',\r\n    height: '24px',\r\n    borderRadius: '50%',\r\n    backgroundColor: 'rgba(255, 255, 255, 0.2)',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    fontSize: '14px',\r\n  },\r\n  headerControls: {\r\n    display: 'flex',\r\n    gap: '10px',\r\n  },\r\n  controlButton: {\r\n    backgroundColor: 'transparent',\r\n    border: 'none',\r\n    color: 'white',\r\n    cursor: 'pointer',\r\n    padding: '5px',\r\n    borderRadius: '4px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    transition: 'background-color 0.2s',\r\n  },\r\n  chatBody: {\r\n    padding: '0',\r\n    overflowY: 'auto',\r\n    flex: 1,\r\n    backgroundColor: '#f9fafb',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  welcomeContainer: {\r\n    padding: '20px',\r\n    textAlign: 'center',\r\n    color: '#6B7280',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flex: 1,\r\n  },\r\n  welcomeTitle: {\r\n    fontSize: '18px',\r\n    fontWeight: '600',\r\n    marginBottom: '10px',\r\n    color: '#1F2937',\r\n  },\r\n  welcomeDesc: {\r\n    fontSize: '14px',\r\n    marginBottom: '20px',\r\n    maxWidth: '320px',\r\n  },\r\n  suggestionContainer: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    gap: '8px',\r\n    justifyContent: 'center',\r\n    maxWidth: '450px',\r\n  },\r\n  suggestionChip: {\r\n    padding: '8px 15px',\r\n    backgroundColor: 'white',\r\n    border: '1px solid #E5E7EB',\r\n    borderRadius: '999px',\r\n    fontSize: '13px',\r\n    color: '#4F46E5',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.2s',\r\n    whiteSpace: 'nowrap',\r\n    boxShadow: '0 1px 2px rgba(0, 0, 0, 0.05)',\r\n  },\r\n  chatMessages: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    gap: '15px',\r\n    padding: '20px',\r\n    overflowY: 'auto',\r\n  },\r\n  messageRow: {\r\n    display: 'flex',\r\n    gap: '12px',\r\n    maxWidth: '100%',\r\n  },\r\n  messageUser: {\r\n    alignSelf: 'flex-end',\r\n    flexDirection: 'row-reverse',\r\n  },\r\n  avatar: {\r\n    width: '32px',\r\n    height: '32px',\r\n    borderRadius: '50%',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    fontSize: '14px',\r\n    color: 'white',\r\n    flexShrink: 0,\r\n  },\r\n  userAvatar: {\r\n    backgroundColor: '#4F46E5',\r\n  },\r\n  aiAvatar: {\r\n    backgroundColor: '#10B981',\r\n  },\r\n  messageBubble: {\r\n    padding: '12px 16px',\r\n    borderRadius: '18px',\r\n    maxWidth: 'calc(100% - 50px)',\r\n    boxShadow: '0 1px 2px rgba(0, 0, 0, 0.05)',\r\n    fontSize: '14px',\r\n    lineHeight: '1.5',\r\n  },\r\n  userBubble: {\r\n    backgroundColor: '#4F46E5',\r\n    color: 'white',\r\n    borderBottomRightRadius: '4px',\r\n  },\r\n  aiBubble: {\r\n    backgroundColor: 'white',\r\n    color: '#1F2937',\r\n    borderBottomLeftRadius: '4px',\r\n  },\r\n  typing: {\r\n    display: 'flex',\r\n    padding: '8px 0',\r\n    gap: '4px',\r\n    alignItems: 'center',\r\n  },\r\n  typingDot: {\r\n    width: '8px',\r\n    height: '8px',\r\n    backgroundColor: '#D1D5DB',\r\n    borderRadius: '50%',\r\n    animation: 'typingAnimation 1s infinite ease-in-out',\r\n    animationDelay: props => `${props * 0.2}s`,\r\n  },\r\n  inputFooter: {\r\n    borderTop: '1px solid #E5E7EB',\r\n    padding: '15px 20px',\r\n    backgroundColor: 'white',\r\n  },\r\n  inputContainer: {\r\n    display: 'flex',\r\n    position: 'relative',\r\n  },\r\n  textArea: {\r\n    flex: 1,\r\n    padding: '12px 16px',\r\n    paddingRight: '50px',\r\n    border: '1px solid #E5E7EB',\r\n    borderRadius: '24px',\r\n    resize: 'none',\r\n    fontSize: '14px',\r\n    lineHeight: '1.5',\r\n    maxHeight: '120px',\r\n    overflowY: 'auto',\r\n    outline: 'none',\r\n    transition: 'border-color 0.2s',\r\n  },\r\n  sendButton: {\r\n    position: 'absolute',\r\n    right: '12px',\r\n    bottom: '8px',\r\n    width: '32px',\r\n    height: '32px',\r\n    borderRadius: '50%',\r\n    backgroundColor: '#4F46E5',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    border: 'none',\r\n    cursor: 'pointer',\r\n    color: 'white',\r\n    transition: 'transform 0.2s, opacity 0.2s',\r\n  },\r\n  sendButtonDisabled: {\r\n    opacity: 0.5,\r\n    cursor: 'not-allowed',\r\n  },\r\n  codeBlock: {\r\n    backgroundColor: '#1E293B',\r\n    color: '#E2E8F0',\r\n    padding: '12px 16px',\r\n    borderRadius: '8px',\r\n    fontFamily: \"'Fira Code', monospace\",\r\n    fontSize: '13px',\r\n    overflowX: 'auto',\r\n    margin: '10px 0',\r\n  },\r\n  latexBlock: {\r\n    backgroundColor: '#F8FAFC',\r\n    padding: '12px 16px',\r\n    borderRadius: '8px',\r\n    borderLeft: '3px solid #4F46E5',\r\n    fontFamily: \"'Fira Code', monospace\",\r\n    fontSize: '13px',\r\n    overflowX: 'auto',\r\n    margin: '10px 0',\r\n  },\r\n  actionButtons: {\r\n    display: 'flex',\r\n    gap: '8px',\r\n    marginTop: '10px',\r\n  },\r\n  actionButton: {\r\n    padding: '8px 12px',\r\n    backgroundColor: '#4F46E5',\r\n    color: 'white',\r\n    border: 'none',\r\n    borderRadius: '6px',\r\n    fontSize: '13px',\r\n    cursor: 'pointer',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '6px',\r\n    transition: 'background-color 0.2s',\r\n  },\r\n  warningMessage: {\r\n    backgroundColor: '#FEF3C7',\r\n    borderLeft: '3px solid #D97706',\r\n    padding: '12px 16px',\r\n    borderRadius: '8px',\r\n    fontSize: '13px',\r\n    color: '#92400E',\r\n    margin: '10px 0',\r\n  },\r\n  blinking: {\r\n    opacity: 0,\r\n    animation: 'blinking 1s infinite',\r\n  },\r\n  suggestionList: {\r\n    position: 'absolute',\r\n    bottom: '70px',\r\n    left: '20px',\r\n    right: '20px',\r\n    backgroundColor: 'white',\r\n    borderRadius: '8px',\r\n    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.1)',\r\n    zIndex: 10,\r\n    maxHeight: '160px',\r\n    overflowY: 'auto',\r\n    border: '1px solid #E5E7EB',\r\n  },\r\n  suggestionItem: {\r\n    padding: '10px 15px',\r\n    borderBottom: '1px solid #E5E7EB',\r\n    cursor: 'pointer',\r\n    fontSize: '13px',\r\n    color: '#374151',\r\n    transition: 'background-color 0.2s',\r\n  },\r\n  '@keyframes typingAnimation': {\r\n    '0%': { transform: 'scale(0.8)', opacity: 0.6 },\r\n    '50%': { transform: 'scale(1.2)', opacity: 1 },\r\n    '100%': { transform: 'scale(0.8)', opacity: 0.6 },\r\n  },\r\n  '@keyframes blinking': {\r\n    '0%': { opacity: 0 },\r\n    '50%': { opacity: 1 },\r\n    '100%': { opacity: 0 },\r\n  },\r\n};\r\n\r\n// SVG Icons\r\nconst Icons = {\r\n  send: <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><line x1=\"22\" y1=\"2\" x2=\"11\" y2=\"13\"></line><polygon points=\"22 2 15 22 11 13 2 9 22 2\"></polygon></svg>,\r\n  minimize: <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line></svg>,\r\n  maximize: <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><polyline points=\"15 3 21 3 21 9\"></polyline><polyline points=\"9 21 3 21 3 15\"></polyline><line x1=\"21\" y1=\"3\" x2=\"14\" y2=\"10\"></line><line x1=\"3\" y1=\"21\" x2=\"10\" y2=\"14\"></line></svg>,\r\n  apply: <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><polyline points=\"20 6 9 17 4 12\"></polyline></svg>,\r\n  copy: <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"></rect><path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"></path></svg>,\r\n  warning: <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"></path><line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"></line><line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"></line></svg>,\r\n  sparkles: <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M12 3l1.88 5.76a2 2 0 001.92 1.45h6.1a1 1 0 01.59 1.8l-4.93 3.58a2 2 0 00-.73 2.24l1.88 5.76a1 1 0 01-1.54 1.12l-4.93-3.58a2 2 0 00-2.36 0l-4.93 3.58a1 1 0 01-1.54-1.12l1.88-5.76a2 2 0 00-.73-2.24l-4.93-3.58a1 1 0 01.59-1.8h6.1A2 2 0 009.12 8.7L11 3a1 1 0 011 0z\"></path></svg>\r\n};\r\n\r\n// Function to parse markdown-like syntax for code and LaTeX blocks\r\nconst formatMessage = (message) => {\r\n  if (!message) return '';\r\n  \r\n  // Replace code blocks with styled divs\r\n  const codeBlockRegex = /```(latex)?\\n([\\s\\S]*?)```/g;\r\n  \r\n  let parts = [];\r\n  let lastIndex = 0;\r\n  let match;\r\n  \r\n  while ((match = codeBlockRegex.exec(message)) !== null) {\r\n    // Add text before the code block\r\n    if (match.index > lastIndex) {\r\n      parts.push({\r\n        type: 'text',\r\n        content: message.substring(lastIndex, match.index)\r\n      });\r\n    }\r\n    \r\n    // Add the code block\r\n    const isLatex = match[1] === 'latex';\r\n    parts.push({\r\n      type: isLatex ? 'latex' : 'code',\r\n      content: match[2]\r\n    });\r\n    \r\n    lastIndex = match.index + match[0].length;\r\n  }\r\n  \r\n  // Add any remaining text\r\n  if (lastIndex < message.length) {\r\n    parts.push({\r\n      type: 'text',\r\n      content: message.substring(lastIndex)\r\n    });\r\n  }\r\n  \r\n  // Render the parts\r\n  return parts.map((part, index) => {\r\n    if (part.type === 'text') {\r\n      return <p key={index} style={{margin: '5px 0'}}>{part.content}</p>;\r\n    } else if (part.type === 'latex') {\r\n      return (\r\n        <div key={index} style={styles.latexBlock}>\r\n          <div style={{fontWeight: 'bold', marginBottom: '5px'}}>LaTeX:</div>\r\n          {part.content}\r\n        </div>\r\n      );\r\n    } else {\r\n      return <div key={index} style={styles.codeBlock}>{part.content}</div>;\r\n    }\r\n  });\r\n};\r\n\r\nfunction AIAssistant({ latexCode, onApplyChanges }) {\r\n  const [isMinimized, setIsMinimized] = useState(false);\r\n  const [prompt, setPrompt] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [conversation, setConversation] = useState([\r\n    { \r\n      role: 'ai', \r\n      content: 'Hello! I\\'m your Resume AI Assistant. I can help you create a professional, ATS-friendly resume. Try these prompts:\\n\\n- \"Transform my resume to highlight leadership skills\"\\n- \"Redesign my resume for a software engineering role\"\\n- \"Make my resume more concise and impactful\"\\n- \"Improve the formatting of my resume\"\\n- \"Add quantifiable achievements to my work experience\"'\r\n    }\r\n  ]);\r\n  const chatboxRef = useRef(null);\r\n  \r\n  // Auto-scroll to bottom of chat when conversation updates\r\n  useEffect(() => {\r\n    if (chatboxRef.current) {\r\n      chatboxRef.current.scrollTop = chatboxRef.current.scrollHeight;\r\n    }\r\n  }, [conversation]);\r\n  \r\n  const handleSendPrompt = async () => {\r\n    if (!prompt.trim()) return;\r\n    \r\n    // Add user message to conversation\r\n    const userMessage = { role: 'user', content: prompt };\r\n    setConversation(prev => [...prev, userMessage]);\r\n    \r\n    // Clear input field\r\n    setPrompt('');\r\n    \r\n    // Start loading indicator\r\n    setIsLoading(true);\r\n    \r\n    try {\r\n      // Show a temporary \"thinking\" message\r\n      const thinkingMessageId = Date.now();\r\n      setConversation(prev => [\r\n        ...prev, \r\n        { \r\n          role: 'ai', \r\n          content: 'Thinking...',\r\n          id: thinkingMessageId,\r\n          isTemporary: true\r\n        }\r\n      ]);\r\n      \r\n      // Make API call with increased timeout\r\n      const response = await axios.post('http://localhost:5001/ai/improve-resume', {\r\n        prompt,\r\n        latex: latexCode\r\n      }, { \r\n        timeout: 60000 // 60 second timeout\r\n      });\r\n      \r\n      // Remove the temporary thinking message\r\n      setConversation(prev => \r\n        prev.filter(msg => !msg.isTemporary || msg.id !== thinkingMessageId)\r\n      );\r\n      \r\n      // Add AI response to conversation\r\n      if (response.data && response.data.success) {\r\n        setConversation(prev => [...prev, { role: 'ai', content: response.data.response }]);\r\n      } else {\r\n        throw new Error(response.data?.error || 'Failed to get AI response');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error getting AI response:', error);\r\n      \r\n      // Remove any temporary messages\r\n      setConversation(prev => prev.filter(msg => !msg.isTemporary));\r\n      \r\n      // Provide a helpful fallback response when API fails\r\n      const fallbackResponse = generateFallbackResponse(prompt, latexCode);\r\n      setConversation(prev => [\r\n        ...prev, \r\n        { role: 'ai', content: fallbackResponse }\r\n      ]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Function to generate basic fallback responses when API fails\r\n  const generateFallbackResponse = (userPrompt, latex) => {\r\n    const promptLower = userPrompt.toLowerCase();\r\n    \r\n    if (promptLower.includes('improve') || promptLower.includes('enhance')) {\r\n      return \"I'd suggest improving your resume by quantifying achievements, using action verbs, and ensuring consistent formatting. For example:\\n\\n```latex\\n\\\\section{Experience}\\n\\\\textbf{Software Engineer} \\\\\\\\\\nCompany Name, City, State \\\\\\\\\\n2022-Present\\n\\\\begin{itemize}\\n  \\\\item Increased application performance by 40\\\\% through optimization of database queries\\n  \\\\item Led development of 3 key features that attracted 1,000+ new users\\n  \\\\item Collaborated with cross-functional teams to reduce deployment time by 25\\\\%\\n\\\\end{itemize}\\n```\";\r\n    } else if (promptLower.includes('format') || promptLower.includes('layout')) {\r\n      return \"For better formatting, consider using a cleaner layout:\\n\\n```latex\\n\\\\documentclass[11pt,a4paper,sans]{moderncv}\\n\\\\moderncvstyle{classic}\\n\\\\moderncvcolor{blue}\\n\\n\\\\name{John}{Doe}\\n\\\\phone{(123) 456-7890}\\n\\\\email{john.doe@example.com}\\n\\\\social[linkedin]{linkedin.com/in/johndoe}\\n\\n\\\\begin{document}\\n\\\\makecvtitle\\n\\n% Rest of your resume...\\n\\\\end{document}\\n```\";\r\n    } else if (promptLower.includes('skills') || promptLower.includes('highlight')) {\r\n      return \"To highlight your skills more effectively, consider grouping them by category:\\n\\n```latex\\n\\\\section{Skills}\\n\\\\begin{itemize}\\n  \\\\item \\\\textbf{Programming Languages:} JavaScript (ES6+), TypeScript, Python, Java\\n  \\\\item \\\\textbf{Web Technologies:} React, Node.js, Express, HTML5, CSS3/SCSS\\n  \\\\item \\\\textbf{Databases:} MongoDB, PostgreSQL, Redis\\n  \\\\item \\\\textbf{DevOps:} Docker, Kubernetes, AWS, CI/CD pipelines\\n  \\\\item \\\\textbf{Tools:} Git, Jira, Figma, Jest, Webpack\\n\\\\end{itemize}\\n```\";\r\n    } else {\r\n      return \"I'm having trouble connecting to the AI service right now. Here are some general resume tips:\\n\\n1. Keep your resume concise and focused\\n2. Quantify achievements when possible\\n3. Use action verbs to describe your experience\\n4. Ensure consistent formatting throughout\\n5. Tailor your resume for each job application\\n\\nYou can improve your LaTeX code structure with:\\n\\n```latex\\n\\\\section{Your Section}\\n\\\\subsection{A Subsection}\\n\\\\begin{itemize}\\n  \\\\item Use bullet points for clear, scannable content\\n  \\\\item Highlight key achievements and skills\\n\\\\end{itemize}\\n```\";\r\n    }\r\n  };\r\n\r\n  // Function to validate LaTeX code before applying changes\r\n  const validateLatexCode = (code) => {\r\n    // Basic validation check - make sure it has the essential document structure\r\n    const hasDocumentClass = code.includes('\\\\documentclass');\r\n    const hasBeginDocument = code.includes('\\\\begin{document}');\r\n    const hasEndDocument = code.includes('\\\\end{document}');\r\n    \r\n    return hasDocumentClass && hasBeginDocument && hasEndDocument;\r\n  };\r\n\r\n  const handleApplyChanges = (latexContent) => {\r\n    if (onApplyChanges && latexContent) {\r\n      // Extract LaTeX code from message\r\n      const latexMatch = latexContent.match(/```latex\\n([\\s\\S]*?)```/);\r\n      if (latexMatch && latexMatch[1]) {\r\n        const extractedLatex = latexMatch[1];\r\n        \r\n        // Validate the LaTeX code before applying\r\n        if (validateLatexCode(extractedLatex)) {\r\n          onApplyChanges(extractedLatex);\r\n        } else {\r\n          // Show an error in the conversation if the code is invalid\r\n          setConversation(prev => [\r\n            ...prev,\r\n            {\r\n              role: 'ai',\r\n              content: \"⚠️ The LaTeX code appears to be incomplete. A valid LaTeX document should include \\\\documentclass, \\\\begin{document}, and \\\\end{document}. Please ask for a complete document.\"\r\n            }\r\n          ]);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  // Enhanced suggestion prompts based on user input\r\n  const getSuggestions = (inputText) => {\r\n    inputText = inputText.toLowerCase();\r\n    \r\n    if (inputText.includes('design') || inputText.includes('template') || inputText.includes('format')) {\r\n      return [\r\n        \"Create a modern, clean layout for my resume\",\r\n        \"Format my resume for a technical role\",\r\n        \"Design an executive-level resume layout\",\r\n        \"Improve the section spacing and organization\"\r\n      ];\r\n    }\r\n    \r\n    if (inputText.includes('experience') || inputText.includes('job')) {\r\n      return [\r\n        \"Strengthen my work experience section with achievements\",\r\n        \"Add metrics and results to my job descriptions\",\r\n        \"Rewrite my experience to focus on leadership\",\r\n        \"Optimize my job history for ATS systems\"\r\n      ];\r\n    }\r\n    \r\n    if (inputText.includes('skill') || inputText.includes('technology')) {\r\n      return [\r\n        \"Organize my skills into meaningful categories\",\r\n        \"Highlight my most relevant technical skills\",\r\n        \"Add a skills rating system\",\r\n        \"Create a more scannable skills section\"\r\n      ];\r\n    }\r\n    \r\n    return [\r\n      \"Improve my resume's overall impact and readability\",\r\n      \"Tailor my resume for a specific job posting\",\r\n      \"Add professional summary section\",\r\n      \"Create a more achievement-oriented resume\"\r\n    ];\r\n  };\r\n  \r\n  // Function to show suggestions as user types\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  \r\n  useEffect(() => {\r\n    if (prompt.length > 3) {\r\n      setSuggestions(getSuggestions(prompt));\r\n    } else {\r\n      setSuggestions([]);\r\n    }\r\n  }, [prompt]);\r\n  \r\n  const handleSuggestionClick = (suggestion) => {\r\n    setPrompt(suggestion);\r\n    setSuggestions([]);\r\n  };\r\n  \r\n  return (\r\n    <div style={{...styles.container, ...(isMinimized ? styles.minimizedContainer : {})}}>\r\n      <div style={styles.header}>\r\n        <div style={styles.headerTitle}>\r\n          <div style={styles.headerIcon}>{Icons.sparkles}</div>\r\n          Resume AI Assistant\r\n        </div>\r\n        <div style={styles.headerControls}>\r\n          <button\r\n            style={styles.controlButton}\r\n            onClick={() => setIsMinimized(!isMinimized)}\r\n          >\r\n            {isMinimized ? Icons.maximize : Icons.minimize}\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      {!isMinimized && (\r\n        <>\r\n          <div style={styles.chatBody}>\r\n            <div style={styles.chatMessages} ref={chatboxRef}>\r\n              {conversation.map((msg, index) => (\r\n                <div\r\n                  key={index}\r\n                  style={{\r\n                    ...styles.messageRow,\r\n                    ...(msg.role === 'user' ? styles.messageUser : {})\r\n                  }}\r\n                >\r\n                  <div\r\n                    style={{\r\n                      ...styles.avatar,\r\n                      ...(msg.role === 'user' ? styles.userAvatar : styles.aiAvatar)\r\n                    }}\r\n                  >\r\n                    {msg.role === 'user' ? 'U' : 'AI'}\r\n                  </div>\r\n                  <div\r\n                    style={{\r\n                      ...styles.messageBubble,\r\n                      ...(msg.role === 'user' ? styles.userBubble : styles.aiBubble)\r\n                    }}\r\n                  >\r\n                    {msg.role === 'ai' ? (\r\n                      <div>\r\n                        {formatMessage(msg.content)}\r\n                        {msg.content.includes('```latex') && (\r\n                          <div style={styles.actionButtons}>\r\n                            <button\r\n                              onClick={() => handleApplyChanges(msg.content)}\r\n                              style={styles.actionButton}\r\n                            >\r\n                              {Icons.apply} Apply Changes\r\n                            </button>\r\n                            <button\r\n                              onClick={() => navigator.clipboard.writeText(msg.content)}\r\n                              style={styles.actionButton}\r\n                            >\r\n                              {Icons.copy} Copy Code\r\n                            </button>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    ) : (\r\n                      msg.content\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n              {isLoading && (\r\n                <div style={styles.typing}>\r\n                  <div style={styles.typingDot}></div>\r\n                  <div style={styles.typingDot}></div>\r\n                  <div style={styles.typingDot}></div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          <div style={styles.inputFooter}>\r\n            <div style={styles.inputContainer}>\r\n              <textarea\r\n                placeholder=\"Ask about improving your resume...\"\r\n                value={prompt}\r\n                onChange={(e) => setPrompt(e.target.value)}\r\n                onKeyPress={(e) => e.key === 'Enter' && !e.shiftKey && handleSendPrompt()}\r\n                style={styles.textArea}\r\n                disabled={isLoading}\r\n              />\r\n              <button\r\n                onClick={handleSendPrompt}\r\n                style={{\r\n                  ...styles.sendButton,\r\n                  ...(isLoading ? styles.sendButtonDisabled : {})\r\n                }}\r\n                disabled={isLoading}\r\n              >\r\n                {Icons.send}\r\n              </button>\r\n              {suggestions.length > 0 && (\r\n                <div style={styles.suggestionList}>\r\n                  {suggestions.map((suggestion, index) => (\r\n                    <div\r\n                      key={index}\r\n                      onClick={() => handleSuggestionClick(suggestion)}\r\n                      style={styles.suggestionItem}\r\n                    >\r\n                      {suggestion}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AIAssistant;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}