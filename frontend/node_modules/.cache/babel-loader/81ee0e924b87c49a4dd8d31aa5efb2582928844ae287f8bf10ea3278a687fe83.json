{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\viswa\\\\Downloads\\\\Latex resume writer ai\\\\frontend\\\\src\\\\components\\\\PDFPreview.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Document, Page, pdfjs } from 'react-pdf';\nimport 'react-pdf/dist/esm/Page/AnnotationLayer.css';\nimport 'react-pdf/dist/esm/Page/TextLayer.css';\n\n// Configure PDF.js worker\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\nfunction PDFPreview({\n  pdfUrl,\n  isCompiling\n}) {\n  _s();\n  const [numPages, setNumPages] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const onDocumentLoadSuccess = ({\n    numPages\n  }) => {\n    setNumPages(numPages);\n  };\n\n  // Update API URL handling to ensure it works properly\n  const getFileUrl = () => {\n    const baseUrl = process.env.REACT_APP_API_URL || 'http://localhost:5001';\n    if (pdfUrl && pdfUrl.startsWith('/')) {\n      return `${baseUrl}${pdfUrl}`;\n    }\n    return pdfUrl;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-full flex flex-col items-center p-4 bg-gray-50 overflow-auto\",\n    children: isCompiling ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ml-3\",\n        children: \"Compiling your LaTeX...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }, this) : pdfUrl ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between w-full mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setPageNumber(Math.max(pageNumber - 1, 1)),\n          disabled: pageNumber <= 1,\n          className: \"px-4 py-2 bg-blue-500 text-white rounded disabled:bg-gray-300\",\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center\",\n          children: [\"Page \", pageNumber, \" of \", numPages || '--']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setPageNumber(Math.min(pageNumber + 1, numPages || 1)),\n          disabled: pageNumber >= numPages,\n          className: \"px-4 py-2 bg-blue-500 text-white rounded disabled:bg-gray-300\",\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shadow-lg\",\n        children: /*#__PURE__*/_jsxDEV(Document, {\n          file: getFileUrl(),\n          onLoadSuccess: onDocumentLoadSuccess,\n          renderMode: \"canvas\",\n          children: /*#__PURE__*/_jsxDEV(Page, {\n            pageNumber: pageNumber,\n            renderTextLayer: true,\n            renderAnnotationLayer: true,\n            scale: 1.2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-full text-gray-500\",\n      children: \"No PDF preview available. Start typing to generate a preview.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n_s(PDFPreview, \"YLJz20aPqXTJ8p9+Yj/tBc0QyPE=\");\n_c = PDFPreview;\nexport default PDFPreview;\nvar _c;\n$RefreshReg$(_c, \"PDFPreview\");","map":{"version":3,"names":["React","useState","Document","Page","pdfjs","jsxDEV","_jsxDEV","Fragment","_Fragment","GlobalWorkerOptions","workerSrc","version","PDFPreview","pdfUrl","isCompiling","_s","numPages","setNumPages","pageNumber","setPageNumber","onDocumentLoadSuccess","getFileUrl","baseUrl","process","env","REACT_APP_API_URL","startsWith","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","Math","max","disabled","min","file","onLoadSuccess","renderMode","renderTextLayer","renderAnnotationLayer","scale","_c","$RefreshReg$"],"sources":["C:/Users/viswa/Downloads/Latex resume writer ai/frontend/src/components/PDFPreview.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Document, Page, pdfjs } from 'react-pdf';\r\nimport 'react-pdf/dist/esm/Page/AnnotationLayer.css';\r\nimport 'react-pdf/dist/esm/Page/TextLayer.css';\r\n\r\n// Configure PDF.js worker\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\r\n\r\nfunction PDFPreview({ pdfUrl, isCompiling }) {\r\n  const [numPages, setNumPages] = useState(null);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n\r\n  const onDocumentLoadSuccess = ({ numPages }) => {\r\n    setNumPages(numPages);\r\n  };\r\n\r\n  // Update API URL handling to ensure it works properly\r\n  const getFileUrl = () => {\r\n    const baseUrl = process.env.REACT_APP_API_URL || 'http://localhost:5001';\r\n    if (pdfUrl && pdfUrl.startsWith('/')) {\r\n      return `${baseUrl}${pdfUrl}`;\r\n    }\r\n    return pdfUrl;\r\n  };\r\n\r\n  return (\r\n    <div className=\"h-full flex flex-col items-center p-4 bg-gray-50 overflow-auto\">\r\n      {isCompiling ? (\r\n        <div className=\"flex items-center justify-center h-full\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\r\n          <span className=\"ml-3\">Compiling your LaTeX...</span>\r\n        </div>\r\n      ) : pdfUrl ? (\r\n        <>\r\n          <div className=\"flex justify-between w-full mb-4\">\r\n            <button \r\n              onClick={() => setPageNumber(Math.max(pageNumber - 1, 1))}\r\n              disabled={pageNumber <= 1}\r\n              className=\"px-4 py-2 bg-blue-500 text-white rounded disabled:bg-gray-300\"\r\n            >\r\n              Previous\r\n            </button>\r\n            <p className=\"text-center\">\r\n              Page {pageNumber} of {numPages || '--'}\r\n            </p>\r\n            <button \r\n              onClick={() => setPageNumber(Math.min(pageNumber + 1, numPages || 1))}\r\n              disabled={pageNumber >= numPages}\r\n              className=\"px-4 py-2 bg-blue-500 text-white rounded disabled:bg-gray-300\"\r\n            >\r\n              Next\r\n            </button>\r\n          </div>\r\n          <div className=\"shadow-lg\">\r\n            <Document\r\n              file={getFileUrl()}\r\n              onLoadSuccess={onDocumentLoadSuccess}\r\n              renderMode=\"canvas\"\r\n            >\r\n              <Page \r\n                pageNumber={pageNumber} \r\n                renderTextLayer={true}\r\n                renderAnnotationLayer={true}\r\n                scale={1.2}\r\n              />\r\n            </Document>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <div className=\"flex items-center justify-center h-full text-gray-500\">\r\n          No PDF preview available. Start typing to generate a preview.\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PDFPreview;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}